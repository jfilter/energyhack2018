{"version":3,"sources":["app/js/initialize.js","app/js/someFile.js"],"names":["document","addEventListener","console","log","i","setInterval","xx","times","someFunction","step","width","height","barHeight","formatNumber","d3","format","color","scale","linear","domain","interpolate","interpolateHcl","range","rgb","select","remove","svg","append","attr","csv","error","data","forEach","x","value","extent","d","barScale","keys","map","time","numBars","length","xAxis","axis","orient","ticks","tickFormat","circles","selectAll","enter","style","arc","startAngle","Math","PI","endAngle","innerRadius","segments","each","outerRadius","transition","ease","duration","delay","attrTween","index","t","classed","lines","includes","call","labelRadius","labels","text","toUpperCase"],"mappings":"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","file":"docs/js/app.js","sourcesContent":["import someFunction from './someFile';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.log('initialized');\n  let i = 0;\n  someFunction(i++);\n  setInterval(() => {\n    const xx = i++ % 360;\n    someFunction(xx);\n  }, 10000);\n});\n","// import d3 from 'd3';\n\nconst times = [\n  '3:00',\n  '6:00',\n  '9:00',\n  '12:00',\n  '15:00',\n  '18:00',\n  '21:00',\n  '0:00',\n];\n\nfunction someFunction(step) {\n  var width = 960,\n    height = 600,\n    barHeight = 500 / 2 - 40;\n\n  var formatNumber = d3.format('s');\n\n  var color = d3.scale\n    .linear()\n    .domain([0, 0.75, 1.5])\n    .interpolate(d3.interpolateHcl)\n    .range([d3.rgb('#ccebc5'), d3.rgb('#b3cde3'), d3.rgb('#fbb4ae')]);\n\n  d3.select('svg').remove();\n\n  var svg = d3\n    .select('body')\n    .append('svg')\n    .attr('width', width)\n    .attr('height', height)\n    .append('g')\n    .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');\n\n  d3.csv('data/' + step + '.csv', function(error, data) {\n    // data.sort(function(a, b) {\n    //   return b.value - a.value;\n    // });\n\n    // const maxValue = d3.max(data.map(x => x.value));\n    // console.log(maxValue);\n\n    data.forEach(x => (x.value = x.value / 2000));\n\n    // cosno\n\n    console.log(data);\n\n    var extent = d3.extent(data, function(d) {\n      return d.value;\n    });\n    var barScale = d3.scale\n      .linear()\n      // .domain(extent)\n      .domain([0, 1])\n      .range([0, barHeight]);\n\n    var keys = data.map(function(d, i) {\n      return d.time;\n    });\n    var numBars = keys.length;\n\n    var x = d3.scale\n      .linear()\n      .domain(extent)\n      .range([0, -barHeight]);\n\n    var xAxis = d3.svg\n      .axis()\n      .scale(x)\n      .orient('left')\n      .ticks(3)\n      .tickFormat(formatNumber);\n\n    var circles = svg\n      .selectAll('circle')\n      .data(x.ticks(3))\n      .enter()\n      .append('circle')\n      .attr('r', function(d) {\n        return barScale(d);\n      })\n      .style('fill', 'none')\n      .style('stroke', 'black')\n      .style('stroke-dasharray', '2,2')\n      .style('stroke-width', '.5px');\n\n    var arc = d3.svg\n      .arc()\n      .startAngle(function(d, i) {\n        return (i * 2 * Math.PI) / numBars;\n      })\n      .endAngle(function(d, i) {\n        return ((i + 1) * 2 * Math.PI) / numBars;\n      })\n      .innerRadius(0);\n\n    var segments = svg\n      .selectAll('path')\n      .data(data)\n      .enter()\n      .append('path')\n      .each(function(d) {\n        d.outerRadius = 0;\n      })\n      .style('fill', function(d) {\n        return color(d.value);\n      })\n      .attr('d', arc);\n\n    segments\n      .transition()\n      .ease('elastic')\n      .duration(1000)\n      .delay(function(d, i) {\n        return i * 100;\n      })\n      .attrTween('d', function(d, index) {\n        var i = d3.interpolate(d.outerRadius, barScale(+d.value));\n        return function(t) {\n          d.outerRadius = i(t);\n          return arc(d, index);\n        };\n      });\n\n    svg\n      .append('circle')\n      .attr('r', barHeight)\n      .classed('outer', true)\n      .style('fill', 'none')\n      .style('stroke', 'black')\n      .style('stroke-width', '1.5px');\n\n    var lines = svg\n      .selectAll('line')\n      .data(keys)\n      .enter()\n      .append('line')\n      .attr('y2', -barHeight - 20)\n      .style('stroke', 'black')\n      .style('stroke-width', '.5px')\n      .attr('transform', function(d, i) {\n        if (times.includes(d)) return 'rotate(' + (i * 360) / numBars + ')';\n        return '';\n      });\n\n    svg\n      .append('g')\n      .attr('class', 'x axis')\n      .call(xAxis);\n\n    // Labels\n    var labelRadius = barHeight * 1.025;\n\n    var labels = svg.append('g').classed('labels', true);\n\n    labels\n      .append('def')\n      .append('path')\n      .attr('id', 'label-path')\n      .attr(\n        'd',\n        'm0 ' +\n          -labelRadius +\n          ' a' +\n          labelRadius +\n          ' ' +\n          labelRadius +\n          ' 0 1,1 -0.01 0'\n      );\n\n    labels\n      .selectAll('text')\n      .data(keys)\n      .enter()\n      .append('text')\n      .style('text-anchor', 'middle')\n      .style('font-weight', 'bold')\n      .style('fill', function(d, i) {\n        return '#3e3e3e';\n      })\n      .append('textPath')\n      .attr('xlink:href', '#label-path')\n      .attr('startOffset', function(d, i) {\n        return (i * 100) / numBars + 50 / numBars + '%';\n      })\n      .text(function(d) {\n        if (times.includes(d)) {\n          return d.toUpperCase();\n        }\n        return '';\n      });\n  });\n}\n\nexport default someFunction;\n"]}