{"version":3,"sources":["app/js/initialize.js","app/js/someFile.js"],"names":["int","i","document","addEventListener","console","log","doFun","setInterval","xx","o1","querySelector","checked","o2","o3","days","locale","times","someFunction","step","hideDate","hideTime","hideScale","width","height","barHeight","formatNumber","d3","format","color","scale","linear","domain","interpolate","interpolateHcl","range","rgb","select","remove","svg","append","attr","csv","error","data","forEach","x","value","rawDate","date","split","dd","text","extent","d","barScale","keys","map","time","numBars","length","xAxis","axis","orient","ticks","tickFormat","arc","startAngle","Math","PI","endAngle","innerRadius","segments","selectAll","enter","each","outerRadius","style","transition","ease","duration","delay","attrTween","index","t","classed","lines","includes","call","labelRadius","labels","toUpperCase"],"mappings":"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","file":"docs/js/app.js","sourcesContent":["import someFunction from './someFile';\n\nlet int = null;\nlet i = 0;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.log('initialized');\n  doFun(i++);\n  int = setInterval(() => {\n    const xx = i++ % 360;\n    doFun(xx);\n  }, 10000);\n});\n\nfunction doFun(i) {\n  var o1 = document.querySelector('#o1').checked;\n  var o2 = document.querySelector('#o2').checked;\n  var o3 = document.querySelector('#o3').checked;\n  console.log(o1, o2, o3);\n  someFunction(i, !o1, !o2, !o3);\n}\n","// import d3 from 'd3';\n\nimport days from 'dayjs';\nimport 'dayjs/locale/de'; // load on demand\n\ndays.locale('de'); // use Spanish locale globally\n\nconst times = [\n  '3:00',\n  '6:00',\n  '9:00',\n  '12:00',\n  '15:00',\n  '18:00',\n  '21:00',\n  // '0:00',\n];\n\nfunction someFunction(step, hideDate, hideTime, hideScale) {\n  var width = 960,\n    height = 600,\n    barHeight = 500 / 2 - 40;\n\n  var formatNumber = d3.format('s');\n\n  var color = d3.scale\n    .linear()\n    .domain([0, 0.75, 1.5])\n    .interpolate(d3.interpolateHcl)\n    .range([d3.rgb('#ccebc5'), d3.rgb('#b3cde3'), d3.rgb('#fbb4ae')]);\n\n  d3.select('svg').remove();\n\n  var svg = d3\n    .select('body')\n    .append('svg')\n    .attr('width', width)\n    .attr('height', height)\n    .append('g')\n    .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');\n\n  d3.csv('data/' + step + '.csv', function(error, data) {\n    // data.sort(function(a, b) {\n    //   return b.value - a.value;\n    // });\n\n    // const maxValue = d3.max(data.map(x => x.value));\n    // console.log(maxValue);\n\n    data.forEach(x => (x.value = x.value / 2000));\n\n    // cosno\n    const rawDate = data[0].date.split('/');\n    let dd = days(rawDate[1] + '/' + rawDate[0] + '/' + rawDate[2]);\n\n    if (hideDate) {\n      d3.select('#date').text('');\n    } else {\n      d3.select('#date').text(dd.format('DD.MM.YYYY, dddd'));\n    }\n\n    var extent = d3.extent(data, function(d) {\n      return d.value;\n    });\n    var barScale = d3.scale\n      .linear()\n      // .domain(extent)\n      .domain([0, 1])\n      .range([0, barHeight]);\n\n    var keys = data.map(function(d, i) {\n      return d.time;\n    });\n    var numBars = keys.length;\n\n    var x = d3.scale\n      .linear()\n      .domain([0, 2000])\n      .range([0, -barHeight]);\n\n    var xAxis = d3.svg\n      .axis()\n      .scale(x)\n      .orient('left')\n      .ticks(hideScale ? 0 : 3)\n      // .ticks(3)\n      .tickFormat(d => d + ' l/s');\n    // .tickFormat(formatNumber);\n\n    // var circles = svg\n    //   .selectAll('circle')\n    //   .data(x.ticks(3))\n    //   .enter()\n    //   .append('circle')\n    //   .attr('r', function(d) {\n    //     return barScale(d);\n    //   })\n    //   .style('fill', 'none')\n    //   .style('stroke', 'black')\n    //   .style('stroke-dasharray', '2,2')\n    //   .style('stroke-width', '.5px');\n\n    var arc = d3.svg\n      .arc()\n      .startAngle(function(d, i) {\n        return (i * 2 * Math.PI) / numBars;\n      })\n      .endAngle(function(d, i) {\n        return ((i + 1) * 2 * Math.PI) / numBars;\n      })\n      .innerRadius(0);\n\n    var segments = svg\n      .selectAll('path')\n      .data(data)\n      .enter()\n      .append('path')\n      .each(function(d) {\n        d.outerRadius = 0;\n      })\n      .style('fill', function(d) {\n        return color(d.value);\n      })\n      .attr('d', arc);\n\n    segments\n      .transition()\n      .ease('elastic')\n      .duration(1000)\n      .delay(function(d, i) {\n        return i * 100;\n      })\n      .attrTween('d', function(d, index) {\n        var i = d3.interpolate(d.outerRadius, barScale(+d.value));\n        return function(t) {\n          d.outerRadius = i(t);\n          return arc(d, index);\n        };\n      });\n\n    if (!hideTime) {\n      svg\n        .append('circle')\n        .attr('r', barHeight)\n        .classed('outer', true)\n        .style('fill', 'none')\n        .style('stroke', 'lightgrey')\n        .style('stroke-width', '1px');\n    }\n    if (!hideTime) {\n      var lines = svg\n        .selectAll('line')\n        .data(keys)\n        .enter()\n        .append('line')\n        .attr('y2', -barHeight - 0)\n        .style('stroke', 'lightgrey')\n        .style('stroke-width', '.5px')\n        .attr('transform', function(d, i) {\n          if (times.includes(d)) return 'rotate(' + (i * 360) / numBars + ')';\n          return '';\n        });\n    }\n    svg\n      .append('g')\n      .attr('class', 'x axis')\n      .call(xAxis);\n\n    // Labels\n    var labelRadius = barHeight * 1.025;\n\n    var labels = svg.append('g').classed('labels', true);\n\n    labels\n      .append('def')\n      .append('path')\n      .attr('id', 'label-path')\n      .attr(\n        'd',\n        'm0 ' +\n          -labelRadius +\n          ' a' +\n          labelRadius +\n          ' ' +\n          labelRadius +\n          ' 0 1,1 -0.01 0'\n      );\n\n    labels\n      .selectAll('text')\n      .data(keys)\n      .enter()\n      .append('text')\n      .style('text-anchor', 'middle')\n      .style('font-weight', 'bold')\n      .style('fill', function(d, i) {\n        return '#3e3e3e';\n      })\n      .append('textPath')\n      .attr('xlink:href', '#label-path')\n      .attr('startOffset', function(d, i) {\n        return (i * 100) / numBars + 50 / numBars + '%';\n      })\n      .text(function(d) {\n        if (!hideTime && times.includes(d)) {\n          return d.toUpperCase();\n        }\n        return '';\n      });\n  });\n}\n\nexport default someFunction;\n"]}