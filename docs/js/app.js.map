{"version":3,"sources":["app/js/initialize.js","app/js/someFile.js"],"names":["int","i","document","addEventListener","console","log","spl","window","location","href","split","value","length","isNumber","match","parseInt","doFun","setInterval","xx","o1","querySelector","checked","o2","o3","days","locale","times","someFunction","step","hideDate","hideTime","hideScale","width","height","barHeight","formatNumber","d3","format","color_1","scale","linear","domain","interpolate","interpolateHcl","range","rgb","color_2","selectAll","remove","svg","select","append","attr","svg2","csv","error","hal","bla","data","color","factor","timefac","forEach","x","Math","rawDate","date","dd","text","extent","d","barScale","keys","map","time","numBars","xAxis","axis","orient","ticks","tickFormat","arc","startAngle","PI","endAngle","innerRadius","segments","enter","each","outerRadius","style","transition","ease","duration","delay","attrTween","index","t","classed","lines","includes","call","labelRadius","labels","toUpperCase"],"mappings":"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","file":"docs/js/app.js","sourcesContent":["import someFunction from './someFile';\n\nlet int = null;\n// let i = 0;\nlet i = 28;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.log('initialized');\n\n  const spl = window.location.href.split('/');\n  const value = spl[spl.length - 1];\n  console.log(value);\n  var isNumber = value.match(/^[0-9]+$/);\n  if (isNumber) {\n    i = parseInt(value);\n  }\n  console.log(i);\n  doFun(i++);\n  int = setInterval(() => {\n    const xx = i++ % 360;\n    doFun(xx);\n  }, 10000);\n});\n\nfunction doFun(i) {\n  var o1 = document.querySelector('#o1').checked;\n  var o2 = document.querySelector('#o2').checked;\n  var o3 = document.querySelector('#o3').checked;\n  console.log(o1, o2, o3);\n  someFunction(i, !o1, !o2, !o3);\n}\n","// import d3 from 'd3';\n\nimport days from 'dayjs';\nimport 'dayjs/locale/de'; // load on demand\n\ndays.locale('de'); // use Spanish locale globally\n\nconst times = [\n  '3:00',\n  '6:00',\n  '9:00',\n  '12:00',\n  '15:00',\n  '18:00',\n  '21:00',\n  // '0:00',\n];\n\nfunction someFunction(step, hideDate, hideTime, hideScale) {\n  var width = 960,\n    height = 600,\n    barHeight = 500 / 2 - 40;\n\n  var formatNumber = d3.format('s');\n\n  var color_1 = d3.scale\n    .linear()\n    .domain([0, 0.75, 1.5])\n    .interpolate(d3.interpolateHcl)\n    .range([d3.rgb('#ccebc5'), d3.rgb('#b3cde3'), d3.rgb('#fbb4ae')]);\n\n  var color_2 = d3.scale\n    .linear()\n    .domain([0, 1])\n    .interpolate(d3.interpolateHcl)\n    .range([d3.rgb('black'), d3.rgb('blue')]);\n\n  d3.selectAll('svg').remove();\n\n  var svg = d3\n    .select('body')\n    .append('svg')\n    .attr('width', width)\n    .attr('height', height)\n    .append('g')\n    .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');\n\n  var svg2 = d3\n    .select('body')\n    .append('svg')\n    .attr('width', width)\n    .attr('height', height)\n    // .attr('opacity', 0.5)\n    .append('g')\n    .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');\n\n  d3.csv('data/' + step + '.csv', (error, hal) =>\n    bla(error, hal, color_1, 2000, svg, 1)\n  );\n\n  d3.csv('data_nieder/' + step + '.csv', (error, hal) =>\n    bla(error, hal, color_2, 1, svg2, 4)\n  );\n\n  function bla(error, data, color, factor, svg, timefac) {\n    // data.sort(function(a, b) {\n    //   return b.value - a.value;\n    // });\n\n    // const maxValue = d3.max(data.map(x => x.value));\n    // console.log(maxValue);\n    if (factor === 2000) data.forEach(x => (x.value = x.value / factor));\n    else data.forEach(x => (x.value = Math.log(x.value)));\n\n    // cosno\n    if (factor === 2000) {\n      const rawDate = data[0].date.split('/');\n      let dd = days(rawDate[1] + '/' + rawDate[0] + '/' + rawDate[2]);\n\n      if (hideDate) {\n        d3.select('#date').text('');\n      } else {\n        d3.select('#date').text(dd.format('DD.MM.YYYY, dddd'));\n      }\n    }\n\n    var extent = d3.extent(data, function(d) {\n      return d.value;\n    });\n    var barScale = d3.scale\n      .linear()\n      // .domain(extent)\n      .domain([0, 1])\n      .range([0, barHeight]);\n\n    var keys = data.map(function(d, i) {\n      return d.time;\n    });\n    var numBars = keys.length;\n\n    var x = d3.scale\n      .linear()\n      .domain([0, 2000])\n      .range([0, -barHeight]);\n\n    var xAxis = d3.svg\n      .axis()\n      .scale(x)\n      .orient('left')\n      .ticks(hideScale ? 0 : 3)\n      // .ticks(3)\n      .tickFormat(d => d + ' l/s');\n    // .tickFormat(formatNumber);\n\n    // var circles = svg\n    //   .selectAll('circle')\n    //   .data(x.ticks(3))\n    //   .enter()\n    //   .append('circle')\n    //   .attr('r', function(d) {\n    //     return barScale(d);\n    //   })\n    //   .style('fill', 'none')\n    //   .style('stroke', 'black')\n    //   .style('stroke-dasharray', '2,2')\n    //   .style('stroke-width', '.5px');\n\n    var arc = d3.svg\n      .arc()\n      .startAngle(function(d, i) {\n        return (i * 2 * Math.PI) / numBars;\n      })\n      .endAngle(function(d, i) {\n        return ((i + 1) * 2 * Math.PI) / numBars;\n      })\n      .innerRadius(0);\n\n    var segments = svg\n      .selectAll('path')\n      .data(data)\n      .enter()\n      .append('path')\n      .each(function(d) {\n        d.outerRadius = 0;\n      })\n      .style('fill', function(d) {\n        return color(d.value);\n      })\n      .attr('d', arc);\n\n    segments\n      .transition()\n      .ease('elastic')\n      .duration(1000)\n      .delay(function(d, i) {\n        return i * 100 * timefac;\n      })\n      .attrTween('d', function(d, index) {\n        var i = d3.interpolate(d.outerRadius, barScale(+d.value));\n        return function(t) {\n          d.outerRadius = i(t);\n          return arc(d, index);\n        };\n      });\n\n    if (!hideTime) {\n      svg\n        .append('circle')\n        .attr('r', barHeight)\n        .classed('outer', true)\n        .style('fill', 'none')\n        .style('stroke', 'lightgrey')\n        .style('stroke-width', '1px');\n    }\n    if (!hideTime) {\n      var lines = svg\n        .selectAll('line')\n        .data(keys)\n        .enter()\n        .append('line')\n        .attr('y2', -barHeight - 0)\n        .style('stroke', 'lightgrey')\n        .style('stroke-width', '.5px')\n        .attr('transform', function(d, i) {\n          if (times.includes(d)) return 'rotate(' + (i * 360) / numBars + ')';\n          return '';\n        });\n    }\n    svg\n      .append('g')\n      .attr('class', 'x axis')\n      .call(xAxis);\n\n    // Labels\n    var labelRadius = barHeight * 1.025;\n\n    var labels = svg.append('g').classed('labels', true);\n\n    labels\n      .append('def')\n      .append('path')\n      .attr('id', 'label-path')\n      .attr(\n        'd',\n        'm0 ' +\n          -labelRadius +\n          ' a' +\n          labelRadius +\n          ' ' +\n          labelRadius +\n          ' 0 1,1 -0.01 0'\n      );\n\n    labels\n      .selectAll('text')\n      .data(keys)\n      .enter()\n      .append('text')\n      .style('text-anchor', 'middle')\n      .style('font-weight', 'bold')\n      .style('fill', function(d, i) {\n        return '#3e3e3e';\n      })\n      .append('textPath')\n      .attr('xlink:href', '#label-path')\n      .attr('startOffset', function(d, i) {\n        return (i * 100) / numBars + 50 / numBars + '%';\n      })\n      .text(function(d) {\n        if (!hideTime && times.includes(d)) {\n          return d.toUpperCase();\n        }\n        return '';\n      });\n  }\n}\n\nexport default someFunction;\n"]}